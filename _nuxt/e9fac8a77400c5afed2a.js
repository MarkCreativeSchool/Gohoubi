(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{178:function(t,o,e){var content=e(188);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(38).default)("407e17a4",content,!0,{sourceMap:!1})},179:function(t,o,e){var content=e(192);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(38).default)("93ea35cc",content,!0,{sourceMap:!1})},180:function(t,o,e){var content=e(194);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(38).default)("06cf009e",content,!0,{sourceMap:!1})},187:function(t,o,e){"use strict";var n=e(178);e.n(n).a},188:function(t,o,e){(t.exports=e(37)(!1)).push([t.i,".modal .modal-card[data-v-18755238]{max-width:calc(100% - 40px)}.modal .modal-card .modal-card-head .modal-card-title[data-v-18755238]{font-size:16px}.modal .modal-card .modal-card-body[data-v-18755238]{padding:0}.modal .modal-card .modal-card-body ul li[data-v-18755238]{cursor:pointer;padding:15px 20px;border-bottom:1px solid #ddd}",""])},189:function(t,o,e){var n=e(7);n(n.P,"Array",{fill:e(190)}),e(73)("fill")},190:function(t,o,e){"use strict";var n=e(29),l=e(107),c=e(20);t.exports=function(t){for(var o=n(this),e=c(o.length),d=arguments.length,r=l(d>1?arguments[1]:void 0,e),v=d>2?arguments[2]:void 0,f=void 0===v?e:l(v,e);f>r;)o[r++]=t;return o}},191:function(t,o,e){"use strict";var n=e(179);e.n(n).a},192:function(t,o,e){(t.exports=e(37)(!1)).push([t.i,".modal .modal-card[data-v-0f1408d6]{max-width:calc(100% - 40px)}.modal .modal-card .modal-card-head .modal-card-title[data-v-0f1408d6]{font-size:16px}",""])},193:function(t,o,e){"use strict";var n=e(180);e.n(n).a},194:function(t,o,e){(t.exports=e(37)(!1)).push([t.i,".g-nav[data-v-42a016a1]{border-bottom:1px solid #ddd;text-align:center;padding:15px}.g-nav img[data-v-42a016a1]{height:80px}.g-nav .prev[data-v-42a016a1]{position:absolute;left:15px}.action-button[data-v-42a016a1]{position:fixed;bottom:0;left:0;width:100%;padding:10px}.action-button>div[data-v-42a016a1]{padding:10px;text-align:center;color:#fff}.action-button>div img[data-v-42a016a1]{width:300px}.items[data-v-42a016a1]{display:flex;flex-wrap:wrap;margin-left:-10px;margin-right:-10px}.items li[data-v-42a016a1]{width:20%;padding:0 10px;text-align:center;margin-bottom:10px}.items li img[data-v-42a016a1]{opacity:.1}.items li span[data-v-42a016a1]{display:block;margin-top:-5px}.items li.active img[data-v-42a016a1]{opacity:1}",""])},208:function(t,o,e){"use strict";e.r(o);var n={data:function(){return{works:JSON.parse(localStorage.getItem("works"))}},methods:{close:function(){this.$emit("closeWork")},select:function(t){var o=this.works[t];window.confirm(o.work+"でよろしいですか？")&&this.$emit("addPoint",o.point)}}},l=(e(187),e(19)),c=Object(l.a)(n,function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"modal is-active"},[e("div",{staticClass:"modal-background"}),t._v(" "),e("div",{staticClass:"modal-card"},[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v("お手伝い")]),t._v(" "),e("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.close}})]),t._v(" "),e("div",{staticClass:"modal-card-body"},[e("ul",t._l(t.works,function(o,i){return e("li",{key:"work-"+i,on:{click:function(o){return t.select(i)}}},[e("span",{staticClass:"point"},[t._v("★"+t._s(o.point))]),t._v("\n          "+t._s(o.work)+"\n        ")])}),0)]),t._v(" "),e("footer",{staticClass:"modal-card-foot"},[e("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.close}},[t._v("Cancel")])])])])},[],!1,null,"18755238",null).exports,d=(e(189),e(39),{name:"Roulette",data:function(){return{finishModal:{isActive:!1,message:""}}},mounted:function(){var t=this,canvas=document.getElementById("canvas"),o=canvas.getContext("2d"),e={x:150,y:150},n=130,data=[{name:"お菓子",color:"#FFCEBE",weight:1},{name:"ガチャガチャ",color:"#CEFFBE",weight:1},{name:"金と権力",color:"#CEBEFF",weight:1}],l=0,c=0,d=!1,r=!1;function v(t){var l=t;data.forEach(function(t){!function(t,e,n,l,c,d){var r=(360-n)*Math.PI/180,v=(360-l)*Math.PI/180;o.beginPath(),o.moveTo(t,e),o.fillStyle=d,o.arc(t,e,c,r,v,!0),o.fill(),f()}(e.x,e.y,l,l+c,n,t.color),l+=c})}function f(){o.beginPath(),o.moveTo(e.x,e.y-n),o.lineTo(e.x+10,e.y-n-10),o.lineTo(e.x-10,e.y-n-10),o.closePath(),o.stroke(),o.fillStyle="rgba(40,40,40)",o.fill()}data.forEach(function(t){l+=t.weight}),c=360/l,function(){canvas.width=300,canvas.height=300;for(var t=o.createImageData(canvas.width,canvas.height),i=0;i<t.data.length;i++)t.data[i]=255;o.putImageData(t,0,0)}(),function(){for(var t=document.getElementById("labels"),text="<table>",i=0;i<data.length;i++)text+='\n        <tr>\n        <td style="width:20px;background-color:'.concat(data[i].color,';"></td>\n        <td>').concat(data[i].name,"</td>\n        </tr>");text+="</table>",t.innerHTML=text}(),v(0),document.getElementById("run").addEventListener("click",function(){var o,e,n,l,f;!1===r?(o=1,e=0,n=1,l=setInterval(function(){e+=n,d&&o++,o<1e3?(n=1e3/o,v(e)):(o=0,clearInterval(l),f())},10),f=function n(){o++;var l=setTimeout(n,115);if(o>9){clearTimeout(l),r=!1,d=!1;for(var v=360-Math.ceil((e-90)%360),f=0,i=0;i<data.length;i++){if(c*f<v&&v<c*(f+data[i].weight)){document.getElementById("debug").innerHTML=data[i].name,console.log("finish",t);var m=data[i].name+"が当たりました！";t.finish(i,m);break}f+=data[i].weight}}},r=!0):r=!1}),document.getElementById("stop").addEventListener("click",function(){r&&(d=!0)})},methods:{finish:function(i,t){this.finishModal.isActive=!0,this.finishModal.message=t},finishAndClose:function(){this.finishModal.isActive=!1,this.$emit("finishAndClose")}}}),r={components:{Roulette:Object(l.a)(d,function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[t._m(0),t._v(" "),e("br"),t._v(" "),t._m(1),t._v(" "),e("div",{attrs:{id:"debug"}}),t._v(" "),e("div",{attrs:{id:"labels"}}),t._v(" "),e("div",{staticClass:"modal",class:{"is-active":t.finishModal.isActive}},[e("div",{staticClass:"modal-background"}),t._v(" "),e("div",{staticClass:"modal-content",staticStyle:{padding:"20px"}},[e("div",{staticClass:"box"},[t._v(t._s(t.finishModal.message))])]),t._v(" "),e("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:t.finishAndClose}})])])},[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticStyle:{"text-align":"center"}},[o("canvas",{attrs:{id:"canvas"}})])},function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"columns is-mobile"},[o("div",{staticClass:"column is-6"},[o("button",{staticClass:"button is-fullwidth is-primary",attrs:{id:"run"}},[this._v("run")])]),this._v(" "),o("div",{staticClass:"column is-6"},[o("button",{staticClass:"button is-fullwidth is-primary",attrs:{id:"stop"}},[this._v("stop")])])])}],!1,null,"6354db7b",null).exports},data:function(){return{work:"",point:1}},methods:{submit:function(){var t=localStorage.getItem("works");t=null===t?[]:JSON.parse(t);var data={work:this.work,point:this.point};t.push(data),localStorage.setItem("works",JSON.stringify(t)),this.$emit("addWork",data)},close:function(){this.$emit("closeWorkSettingModal")},finishAndClose:function(){this.$emit("finishAndClose")}}},v=(e(191),{components:{WorkModal:c,RewardModal:Object(l.a)(r,function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"modal is-active"},[o("div",{staticClass:"modal-background"}),this._v(" "),o("div",{staticClass:"modal-card"},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[this._v("ご褒美ルーレット")]),this._v(" "),o("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:this.finishAndClose}})]),this._v(" "),o("section",{staticClass:"modal-card-body"},[o("Roulette",{on:{finishAndClose:this.finishAndClose}})],1)])])},[],!1,null,"0f1408d6",null).exports},data:function(){return{point:localStorage.getItem("point")||0,workModal:{isActive:!1},rewardModal:{isActive:!1}}},watch:{point:function(t,o){for(var e=t-o,i=0;i<e;i++){var n=parseInt(i)+parseInt(o)+1;if(n%10==0&&n>0)return void(this.rewardModal.isActive=!0)}}},methods:{addPoint:function(t){this.workModal.isActive=!1;var o=parseInt(this.point)+parseInt(t);o>60&&(o-=60),this.point=o,localStorage.setItem("point",o)},closeWork:function(){this.workModal.isActive=!1},finishAndClose:function(){this.rewardModal.isActive=!1}}}),f=(e(193),Object(l.a)(v,function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticStyle:{padding:"0px","margin-top":"0px"}},[e("div",{staticClass:"g-nav"},[t._m(0),t._v(" "),e("div",{staticClass:"prev"},[e("nuxt-link",{attrs:{to:{path:"/"}}},[t._v("戻る")])],1),t._v(" "),e("div",[t._v("ごほうびアプリ")])]),t._v(" "),e("div",{staticStyle:{padding:"15px"}},[e("ul",{staticClass:"items",staticStyle:{"padding-bottom":"140px"}},t._l(60,function(o,i){return e("li",{key:o,class:{active:t.point>i}},[e("img",{staticClass:"seal",attrs:{src:"/Gohoubi/seal.png"}}),t._v(" "),59==i?e("span",{staticStyle:{color:"#f90"}},[t._v("★★★")]):i%10==0&&i>0?e("span",{staticStyle:{color:"#f90"}},[t._v("★")]):e("span",[t._v(t._s(i+1))])])}),0)]),t._v(" "),e("div",{staticClass:"action-button"},[e("div",[e("img",{attrs:{src:"/Gohoubi/button.png"},on:{click:function(o){t.workModal.isActive=!0}}})])]),t._v(" "),t.workModal.isActive?e("WorkModal",{on:{addPoint:t.addPoint,closeWork:t.closeWork}}):t._e(),t._v(" "),t.rewardModal.isActive?e("RewardModal",{on:{finishAndClose:t.finishAndClose}}):t._e()],1)},[function(){var t=this.$createElement,o=this._self._c||t;return o("div",[o("img",{staticStyle:{height:"30px"},attrs:{src:"/Gohoubi/l.png"}})])}],!1,null,"42a016a1",null));o.default=f.exports}}]);